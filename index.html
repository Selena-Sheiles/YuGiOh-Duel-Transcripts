<head>
	<meta charset="UTF-8">
</head>

<body>
	<input type="text" id="cardSearchBox">
	<button onclick="search()">Search</button>
	<br>
	<img id="cardImg" src="https://ms.yugipedia.com//thumb/8/84/MadolcheHootcake-MAGO-EN-R-1E.png/300px-MadolcheHootcake-MAGO-EN-R-1E.png">

	<script>
		function search() {
			let input = document.getElementById("cardSearchBox");
			let url = "https://yugipedia.com/wiki/" + input.value.replace(/ /g, "_");
			console.log("Accessing " + url);
			
			const http = new XMLHttpRequest();
			http.open("GET", url);
			http.send();

			http.onreadystatechange = () => {
				if (http.readyState == 4 && http.status == 200) {
					let img = document.getElementById("cardImg");
					img.src = getCardUrl(http.responseText);
				}
			}
		}

		function getCardUrl(doc) {
			let n = doc.indexOf('src="', doc.indexOf("img", doc.indexOf("cardtable-main_image-wrapper") + 1) + 1);
			let m = doc.indexOf('"', n + 5);
			console.log(doc.substring(n + 5, m));
			return doc.substring(n + 5, m);
		}
	</script>
</body>